{"version":3,"file":"useZoomTransitionPrimitives.ios.js","sourceRoot":"","sources":["../../src/link/useZoomTransitionPrimitives.ios.tsx"],"names":[],"mappings":";AAAA,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWb,kEA2CC;AApDD,kDAA2C;AAC3C,+CAAuC;AAEvC,0DAAgG;AAChG,mEAAkE;AAClE,uEAA6D;AAC7D,6CAA4D;AAG5D,SAAgB,2BAA2B,CAAC,EAAE,mBAAmB,EAAE,IAAI,EAAa;IAClF,MAAM,SAAS,GAAG,IAAA,kCAAY,GAAE,CAAC;IACjC,MAAM,gBAAgB,GAAG,IAAA,eAAO,EAC9B,GAAG,EAAE,CACH,mBAAmB,KAAK,MAAM;QAC9B,CAAC,SAAS;QACV,OAAO,CAAC,GAAG,CAAC,OAAO,KAAK,KAAK;QAC7B,IAAA,+CAAuB,GAAE;QACvB,CAAC,CAAC,IAAA,mBAAM,GAAE;QACV,CAAC,CAAC,SAAS,EACf,EAAE,CACH,CAAC;IACF,MAAM,qBAAqB,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE;QACzC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACtB,OAAO,CAAC,KAAoC,EAAE,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC;QAClE,CAAC;QACD,OAAO,CAAC,KAAoC,EAAE,EAAE,CAAC,CAC/C,CAAC,iCAAwB,CAAC,UAAU,CAAC,CAAC,gBAAgB,CAAC,CACrD;QAAA,CAAC,KAAK,CAAC,QAAQ,CACjB;MAAA,EAAE,iCAAwB,CAAC,CAC5B,CAAC;IACJ,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC;IACvB,MAAM,YAAY,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE;QAChC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACtB,OAAO,IAAI,CAAC;QACd,CAAC;QACD,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE,CAAC;YAC7B,OAAO;gBACL,QAAQ,EAAE,IAAI;gBACd,MAAM,EAAE;oBACN,CAAC,4EAAyD,CAAC,EAAE,gBAAgB;iBAC9E;aACF,CAAC;QACJ,CAAC;QACD,OAAO;YACL,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,MAAM,EAAE;gBACN,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;gBACtB,CAAC,4EAAyD,CAAC,EAAE,gBAAgB;aAC9E;SACF,CAAC;IACJ,CAAC,EAAE,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC,CAAC;IAC7B,OAAO,EAAE,qBAAqB,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;AACvD,CAAC","sourcesContent":["'use client';\n\nimport { nanoid } from 'nanoid/non-secure';\nimport React, { useMemo } from 'react';\n\nimport { INTERNAL_EXPO_ROUTER_ZOOM_TRANSITION_SOURCE_ID_PARAM_NAME } from '../navigationParams';\nimport { isZoomTransitionEnabled } from './ZoomTransitionEnabler';\nimport { useIsPreview } from './preview/PreviewRouteContext';\nimport { LinkZoomTransitionSource } from './preview/native';\nimport { LinkProps } from './useLinkHooks';\n\nexport function useZoomTransitionPrimitives({ unstable_transition, href }: LinkProps) {\n  const isPreview = useIsPreview();\n  const zoomTransitionId = useMemo(\n    () =>\n      unstable_transition === 'zoom' &&\n      !isPreview &&\n      process.env.EXPO_OS === 'ios' &&\n      isZoomTransitionEnabled()\n        ? nanoid()\n        : undefined,\n    []\n  );\n  const ZoomTransitionWrapper = useMemo(() => {\n    if (!zoomTransitionId) {\n      return (props: { children: React.ReactNode }) => props.children;\n    }\n    return (props: { children: React.ReactNode }) => (\n      <LinkZoomTransitionSource identifier={zoomTransitionId}>\n        {props.children}\n      </LinkZoomTransitionSource>\n    );\n  }, [zoomTransitionId]);\n  const computedHref = useMemo(() => {\n    if (!zoomTransitionId) {\n      return href;\n    }\n    if (typeof href === 'string') {\n      return {\n        pathname: href,\n        params: {\n          [INTERNAL_EXPO_ROUTER_ZOOM_TRANSITION_SOURCE_ID_PARAM_NAME]: zoomTransitionId,\n        },\n      };\n    }\n    return {\n      pathname: href.pathname,\n      params: {\n        ...(href.params ?? {}),\n        [INTERNAL_EXPO_ROUTER_ZOOM_TRANSITION_SOURCE_ID_PARAM_NAME]: zoomTransitionId,\n      },\n    };\n  }, [href, zoomTransitionId]);\n  return { ZoomTransitionWrapper, href: computedHref };\n}\n"]}